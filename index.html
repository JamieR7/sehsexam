<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IB SEHS Exam Practice</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .controls {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .filter-section {
            margin-bottom: 15px;
        }

        .filter-section label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        select:hover {
            border-color: #3b82f6;
        }

        select:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .question-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: background 0.3s;
        }

        .nav-btn:hover:not(:disabled) {
            background: #2563eb;
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .question-counter {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .section-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .badge-A { background: #ffd93d; color: #333; }
        .badge-B { background: #6bcf7f; color: white; }
        .badge-C { background: #a78bfa; color: white; }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-id {
            font-size: 14px;
            color: #666;
            font-family: 'Courier New', monospace;
        }

        .marks-badge {
            background: #3b82f6;
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .question-text {
            font-size: 18px;
            line-height: 1.6;
            color: #1a1a1a;
            margin-bottom: 25px;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .loading {
            text-align: center;
            color: #3b82f6;
            font-weight: 600;
            margin-top: 15px;
            display: none;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            display: none;
        }

        .score-display {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .key-points {
            margin: 20px 0;
        }

        .key-points h3 {
            font-size: 16px;
            margin-bottom: 12px;
            color: #333;
        }

        .point {
            padding: 10px;
            margin: 8px 0;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .point.hit {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }

        .point.miss {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
        }

        .comment-section, .hint-section {
            margin-top: 20px;
            padding: 15px;
            border-radius: 6px;
        }

        .comment-section {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
        }

        .hint-section {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }

        .comment-section h3, .hint-section h3 {
            font-size: 14px;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ IB SEHS Exam Practice</h1>
            <p>Practice with instant AI marking & feedback</p>
        </div>

        <div class="controls">
            <div class="filter-section">
                <label for="sectionFilter">Select Section:</label>
                <select id="sectionFilter">
                    <option value="A">A. Exercise Physiology & Nutrition</option>
                    <option value="B">B. Biomechanics</option>
                    <option value="C">C. Sports Psychology & Motor Learning</option>
                </select>
            </div>

            <div class="question-nav">
                <button class="nav-btn" id="prevBtn" onclick="navigateQuestion(-1)">‚Üê Previous</button>
                <span class="question-counter" id="questionCounter">Question 1 of 1</span>
                <button class="nav-btn" id="nextBtn" onclick="navigateQuestion(1)">Next ‚Üí</button>
            </div>
        </div>

        <div class="card">
            <div id="questionDisplay">
                <!-- Question will be displayed here -->
            </div>

            <textarea id="answerInput" placeholder="Type your answer here..."></textarea>

            <button class="submit-btn" onclick="submitAnswer()">Submit Answer</button>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                Marking your answer...
            </div>

            <div class="result" id="result"></div>
        </div>
    </div>

    <script>
        // Questions database - 27 questions across all 3 sections
        let allQuestions = [
        {
                "id": "25M.1B.SL.TZ3.5a",
                "section": "A",
                "topic": "3.1 Anatomy ‚Ä¢ Synovial Joints",
                "question": "Outline four features of a synovial joint.",
                "maxMarks": 4,
                "markScheme": "Articular cartilage: Smooth connective tissue at the end of articulating bones ‚úî Protects the bones from friction/shock absorption ‚úî Synovial membrane: Surrounds the joint and provides stability ‚úî Secretes synovial fluid ‚úî Synovial fluid: Provides lubrication for the joint ‚úî Enables the joint to move freely ‚úî Bursae: Fluid filled sac between a tendon and bone ‚úî Reduces friction between tendon & bone/shock absorption ‚úî Ligament: Tough/elastic tissue connects bone to bone ‚úî Provides stability at the joint ‚úî Meniscus: Thick pad of fibro cartilage which acts as a shock absorber/load distributer/lubricates the joint ‚úî Increases stability at the knee joint ‚úî Articular capsule: Thick fibrous structure surrounding the entire joint ‚úî Holds the articulating bones/synovial membrane in place ‚úî"
        },
        {
                "id": "25M.1B.SL.TZ3.5b",
                "section": "A",
                "topic": "3.2 Exercise Physiology ‚Ä¢ Respiration",
                "question": "Explain the mechanism of expiration (exhalation) when exercising.",
                "maxMarks": 5,
                "markScheme": "Diaphragm and external intercostal muscles relax ‚úî Causing the ribcage to move down and in ‚úî This causes the thoracic volume to decrease ‚úî Pressure inside the thoracic cavity increases / Pressure is above atmospheric pressure, so air is forced out ‚úî During exercise expiration becomes active ‚úî Internal intercostal muscles contract to pull the rib cage in and down more rapidly ‚úî During strenuous/maximal exercise accessory muscles help to pull the rib cage down more forcefully ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.4c",
                "section": "A",
                "topic": "3.2 Exercise Physiology ‚Ä¢ ATP-CP System",
                "question": "Describe the re-synthesis of ATP by the ATP-CP system.",
                "maxMarks": 4,
                "markScheme": "Creatine phosphate/CP/PCr is a high-energy molecule/fuel ‚úî The system uses the enzyme creatine kinase ‚úî CP releases energy (exothermic reaction) and phosphate molecule/Pi ‚úî Energy released is used to add Pi to ADP/re-synthesise ATP (endothermic reaction) ‚úî Reaction is a coupled reaction (where one reaction is linked to another reaction) ‚úî The reactions take place in the sarcoplasm/cytoplasm of muscle cell ‚úî 1 PC = 1 ATP ‚úî Does not require oxygen/anaerobic ‚úî Is the first system to provide ATP/occurs up to first 20 seconds of exercise ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.5a",
                "section": "A",
                "topic": "3.3 Biomechanics ‚Ä¢ Newton's Laws",
                "question": "Using examples, outline Newton's three laws of motion during a soccer (football) match.",
                "maxMarks": 6,
                "markScheme": "First law: A body will continue in a state of rest/uniform motion unless acted upon by an external/internal force ‚úî E.g. the ball will remain on the penalty spot until a player kicks the ball ‚úî E.g. once kicked a ball remains in uniform motion until acted on by air resistance/gravity/friction/impact ‚úî Second law: F=ma/Acceleration is proportional to the net force, and is inversely proportional to the mass ‚úî E.g. when the ball is struck by the players' foot (in a free kick) the player applies a force to ball which causes the ball to accelerate (in direction of the force) / E.g. the greater the force applied by a football player to a ball (during a free kick) the faster the ball will accelerate (towards goal) ‚úî Third law: For every action (force) there is an equal and opposite reaction (force) ‚úî E.g. the player applies an action force to the ball where an equal and opposite force is applied to the player ‚úî E.g. The differences in the apparent acceleration of the ball compared to the player is due to the differences in mass between the ball and player ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.5d",
                "section": "A",
                "topic": "3.2 Exercise Physiology ‚Ä¢ Blood Redistribution",
                "question": "Describe blood redistribution as a soccer (football) player begins running during a game.",
                "maxMarks": 5,
                "markScheme": "Increases blood acidity/temperature/CO2 causing a redistribution of blood OR Sympathetic stimulation/nervous system controls the vascular shunt/redistribution of blood ‚úî Q/blood is redistribution to working/active muscles/tissues ‚úî Through vasodilation of arterioles to working muscle ‚úî Vasodilation of arterioles to working/active muscles/tissues ‚úî Some blood is directed to the skin (vasodilation) for cooling purposes ‚úî Through vasoconstriction of arterioles to non-active tissues ‚úî Q/blood is directed away from non-active tissues (e.g. kidneys) ‚úî However, blood flow to the brain remains constant ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.103a",
                "section": "A",
                "topic": "3.4 Nutrition ‚Ä¢ Glycemic Index",
                "question": "Explain the importance of selecting low glycemic index (GI) carbohydrates for a pre-competition meal.",
                "maxMarks": 2,
                "markScheme": "GI is a measure of the rate at which carbohydrates raise blood glucose levels after being consumed ‚úî Low-GI foods are absorbed slowly, causing a gradual increase in blood sugar ‚úî This provides consistent energy, beneficial for maintaining endurance during the event/prevent premature fatigue for endurance athletes ‚úî"
        },
        {
                "id": "25M.2.SL.TZ2.5a",
                "section": "A",
                "topic": "3.2 Exercise Physiology ‚Ä¢ Insulin",
                "question": "Insulin is inhibited by muscle contraction. Explain the role of insulin on glucose uptake at rest.",
                "maxMarks": 3,
                "markScheme": "Insulin is released from pancreas (beta cells) in response to elevated levels of blood glucose/to maintain blood glucose homeostasis ‚úî Insulin promotes glucose uptake by muscles/liver for storage/glycogenesis ‚úî Insulin allows glucose to enter cells by stimulating glucose transporters closer to the surface of the cell ‚úî If glycogen storage sites are full, insulin stores glucose as adipose tissue/lipids/triglycerides (through lipogenesis) ‚úî The pathway for glucose into the cell is different to that stimulated by muscle contraction ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.104",
                "section": "A",
                "topic": "3.2 Exercise Physiology ‚Ä¢ Muscle Fibres",
                "question": "Identify the type of muscle fibre associated with each level of glycogen content: Low, Medium, High.",
                "maxMarks": 3,
                "markScheme": "Low: slow twitch (type I) ‚úî Medium: fast twitch (type IIa) ‚úî High: fast twitch (type IIb) ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.3d",
                "section": "A",
                "topic": "3.2 Exercise Physiology ‚Ä¢ Insulin & Glycogen",
                "question": "Explain the role of insulin in the formation of glycogen.",
                "maxMarks": 3,
                "markScheme": "Insulin is released from pancreas (beta cells) in response to elevated blood glucose levels ‚úî Insulin increases muscle/fat/liver cell permeability (through translocation of GLUT 4 or GLUT 1 for the liver) ‚úî This stimulates glucose uptake/glycogen formation/glycogenesis in (skeletal) muscle/fat/liver (cells) ‚úî Glycogen is formed linking large numbers of glucose molecules together OR Formation of glycogen is through a condensation reaction ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.3c",
                "section": "A",
                "topic": "3.2 Exercise Physiology ‚Ä¢ Muscle Fibres",
                "question": "Discuss characteristics of a type IIb fast glycolytic muscle fibre.",
                "maxMarks": 4,
                "markScheme": "FG/IIb are: Effective for powerful/explosive/high-intensity movements/e.g. long jump ‚úî Because they have a high speed of contraction/force production ‚úî (Due to) high glycogen/ATP/PC stores/energy mostly produced anaerobically ‚úî However, they are ineffective for endurance activities/e.g. marathon ‚úî Because they have a low resistance to fatigue/fatigue quickly ‚úî Due to low myoglobin/mitochondria/capillary density/limited ability to produce energy aerobically ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.3a",
                "section": "B",
                "topic": "3.1 Anatomy ‚Ä¢ Muscles",
                "question": "The diagram shows the skeletal muscles in the anterior upper leg. Identify the parts labelled X and Y.",
                "maxMarks": 2,
                "markScheme": "X: vastus lateralis ‚úî Y: rectus femoris ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.3b",
                "section": "B",
                "topic": "3.1 Anatomy ‚Ä¢ Skeletal Muscle",
                "question": "The diagram shows skeletal muscle. Identify the parts labelled X and Y.",
                "maxMarks": 2,
                "markScheme": "X: perimysium/fascicle ‚úî Y: myofibril/sarcomere(s) ‚úî"
        },
        {
                "id": "25M.2.HL.TZ1.4a",
                "section": "B",
                "topic": "3.3 Biomechanics ‚Ä¢ Friction",
                "question": "Describe how friction influences a 100 m sprinter's performance.",
                "maxMarks": 3,
                "markScheme": "Friction (between track/block and footwear) prevents a sprinter from slipping ‚úî Friction maximizes acceleration/motion forward OR Friction allows sprinter to complete race in a faster time ‚úî Tartan/specialised tracks have greater friction than grass/gravel/sand ‚úî Sprinters increase their friction by wearing spikes/using blocks ‚úî Spikes/blocks increase the surface area in contact with the ground ‚úî"
        },
        {
                "id": "25M.2.HL.TZ2.4b",
                "section": "B",
                "topic": "3.1 Anatomy ‚Ä¢ Anatomical Terminology",
                "question": "State the location of the humerus in relation to the radius using anatomical terminology.",
                "maxMarks": 1,
                "markScheme": "Superior OR Proximal ‚úî"
        },
        {
                "id": "25M.2.HL.TZ2.4c",
                "section": "B",
                "topic": "3.3 Biomechanics ‚Ä¢ Levers",
                "question": "Distinguish between first class levers and third class levers.",
                "maxMarks": 2,
                "markScheme": "Third-class lever has effort in the middle, first-class lever has the fulcrum in the middle ‚úî Third-class lever always has longer load arm, in the first-class lever, the load arm and effort arm depend on where the fulcrum is placed in relation to load and effort ‚úî Third-class lever is a speed multiplier, the first-class lever can be a speed or strength multiplier ‚úî"
        },
        {
                "id": "25M.2.SL.TZ2.4c",
                "section": "B",
                "topic": "3.1 Anatomy ‚Ä¢ Muscle Action",
                "question": "Analyse how the muscles work in pairs to extend the elbow during a backhand in badminton.",
                "maxMarks": 4,
                "markScheme": "Is a neuromuscular reflex that inhibits opposing muscles (to enable voluntary movements) OR Is due to reciprocal inhibition (to enable voluntary movements) ‚úî The antagonist is inhibited to allow the agonist to contract and control the movement ‚úî Triceps (brachii) act as agonist/contracts ‚úî Concentric contraction ‚úî Biceps (brachii) act as antagonist/relax/inhibited ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.4b",
                "section": "B",
                "topic": "3.3 Biomechanics ‚Ä¢ Angular Momentum",
                "question": "The diagram shows a person performing a pirouette in ballet. Explain the concept of angular momentum when the ballet dancer performs the pirouette.",
                "maxMarks": 6,
                "markScheme": "Angular momentum is created by applying torque/an eccentric force to a body ‚úî Angular momentum is defined as moment of inertia √ó angular velocity OR Angular velocity and moment of inertia are inversely proportional ‚úî Angular momentum is how much rotation/spin the ballet dancer has about (the longitudinal/an) axis ‚úî A moment of inertia is determined by the distance of the load from the rotational axis ‚úî Angular momentum remains constant unless the ballet dancer is acted upon by an unbalanced force ‚úî Ballet dancer can increase their moment of inertia by moving their limbs away from the centre of their body/axis ‚úî Ballet dancer can increase their angular velocity by moving their limbs close to the centre of the body/axis ‚úî Picture A/C/Open limbs: the (ballet) dancer has a large moment of inertia therefore their rate of spin/angular velocity is low ‚úî Picture B/Close limbs: the (ballet) dancer has a small moment of inertia therefore their rate of spin/angular velocity is high ‚úî"
        },
        {
                "id": "25M.2.HL.TZ2.4e",
                "section": "B",
                "topic": "3.1 Anatomy ‚Ä¢ Synovial Joints",
                "question": "Outline two features of synovial joints.",
                "maxMarks": 2,
                "markScheme": "Articular cartilage, a (glassy) smooth layer surrounding the ends of the bones to reduce friction between bones ‚úî Synovial membrane, (lining of articular capsule that) produces the synovial fluid, which aids lubrication ‚úî Synovial fluid, acts as a lubricant, allows bones to smoothly move past each other ‚úî Bursae, synovial fluid-filled sac, sits between the tendon and bone to reduce friction ‚úî Meniscus, semi-lunar disc of fibrous cartilage, provides cushioning and stability to joint ‚úî Ligament, strong, flexible tissue that connects bone to bone ‚úî Articular capsule, sleeve-like structure surrounding joint, protects against dislocation ‚úî"
        },
        {
                "id": "25M.2.SL.TZ2.5b",
                "section": "B",
                "topic": "3.3 Biomechanics ‚Ä¢ Projectile Motion",
                "question": "Predict how changing the speed and height of release affects the motion of a projectile released at a 45¬∞ angle.",
                "maxMarks": 2,
                "markScheme": "Increasing the height of release increases the distance of the projectile ‚úî Increasing the speed of release increases the distance of the projectile ‚úî"
        },
        {
                "id": "25M.2.SL.TZ1.102a",
                "section": "C",
                "topic": "4.1 Psychology ‚Ä¢ Anxiety",
                "question": "Distinguish between cognitive and somatic anxiety.",
                "maxMarks": 2,
                "markScheme": "Cognitive anxiety: Mental/psychological worry/negative thoughts about performance ‚úî Somatic anxiety: Physiological symptoms like increased heart rate/sweating/butterflies in stomach ‚úî"
        },
        {
                "id": "25M.2.SL.TZ3.3a",
                "section": "C",
                "topic": "4.2 Motor Learning ‚Ä¢ Transfer",
                "question": "Define the concept of transfer.",
                "maxMarks": 1,
                "markScheme": "Where a person's learning in one situation/skill has an impact on their performance in another situation/skill ‚úî"
        },
        {
                "id": "25M.2.SL.TZ3.3b",
                "section": "C",
                "topic": "4.2 Motor Learning ‚Ä¢ Transfer",
                "question": "Outline abilities to skills as a type of transfer when learning to return the ball in tennis.",
                "maxMarks": 1,
                "markScheme": "E.g. Abilities such as coordination/balance/reaction time would allow the performer to execute the skill ‚úî"
        },
        {
                "id": "25M.2.HL.TZ1.4d",
                "section": "C",
                "topic": "4.2 Motor Learning ‚Ä¢ Constraints",
                "question": "Using examples, explain three ways a coach may use a constraints-led approach to improve player motivation.",
                "maxMarks": 3,
                "markScheme": "Weather: e.g. a coach may take the session inside to avoid harsh weather and increase enjoyment in the session ‚úî Peers: e.g. a coach may group players based on their friendship groups to enhance motivation during training ‚úî Coaching: e.g. provide a supportive/encouraging environment through praising effort over outcome ‚úî Individual differences: e.g. group players based on their previous experience/physical fitness/attributes to provide appropriate challenge ‚úî Goals: e.g. set individualized performance goals for athletes to achieve success ‚úî Cognition: e.g. provide opportunity for problem solving/decision making to feel autonomy ‚úî Equipment: e.g. use a low bounce tennis ball for younger/novice performers to allow more time and success to connect with the ball ‚úî Rules: e.g. play small side games such as 3v3 to increase touches/participation/interaction ‚úî Scoring: e.g. adapt scoring system to motivate performers to practise positive behaviours ‚úî Playing area: e.g. make the playing area smaller such as a smaller tackle box to increase the chance of success when defending in 1v1 situation ‚úî"
        },
        {
                "id": "25M.2.HL.TZ1.103a",
                "section": "C",
                "topic": "4.1 Psychology ‚Ä¢ Social Learning",
                "question": "Using examples, analyse two ways social learning theory can help a soccer (football) coach improve team performance.",
                "maxMarks": 2,
                "markScheme": "Players learn from observing teammates, with peer behaviour influencing team cohesion/individual skill development e.g. adopting successful defence strategies seen in fellow defenders ‚úî The training environment/team culture contributes to learning/performance e.g. practicing in a high-energy environment simulates real game intensity ‚úî Behaviours/skills learned through observation are applied in games e.g. a player implementing a new dribbling technique observed from a teammate ‚úî Coaches acting as role models demonstrate desired behaviours/skills e.g. a coach showing respect and fairness ‚úî Positive reinforcement/feedback from the coach is essential for encouraging effective team behaviours/performance e.g. praising a player for excellent teamwork ‚úî"
        },
        {
                "id": "25M.2.HL.TZ1.103b",
                "section": "C",
                "topic": "4.1 Psychology ‚Ä¢ Achievement Motivation",
                "question": "The coach introduces new coaching methods. Describe how Atkinson's model of achievement motivation may influence the soccer (football) team's response to coaching.",
                "maxMarks": 3,
                "markScheme": "Individuals are motivated by the desire to succeed (NACH) and the fear of failure (NAF) ‚úî When new coaching methods are introduced, players with high NACH may see this as an opportunity to improve ‚úî Players with higher NAF might resist/feel anxious about new methods (fearing negative outcomes) ‚úî Players are encouraged to adopt growth/learning development over immediate success or failure ‚úî"
        },
        {
                "id": "25M.2.SL.TZ2.5f",
                "section": "C",
                "topic": "4.2 Motor Learning ‚Ä¢ Positive & Negative Transfer",
                "question": "Using examples, outline positive and negative transfer.",
                "maxMarks": 2,
                "markScheme": "Positive transfer is when the effect benefits/enhances the learning/performance of the second skill e.g. take-off in long jump supports take-off in triple jump ‚úî Negative transfer is when the effect hinders the learning/performance of the second skill e.g. squash forehand to tennis forehand/surfing to snowboarding ‚úî"
        },
        {
                "id": "25M.2.HL.TZ1.4b",
                "section": "C",
                "topic": "4.2 Motor Learning ‚Ä¢ Environmental Constraints",
                "question": "Outline two environmental constraints that can enhance a sprinter's learning of a new skill.",
                "maxMarks": 2,
                "markScheme": "Physical: Ambient/weather conditions enable focus/practice/replicate competition (e.g. indoor training during non-optimal conditions) ‚úî Suitable flat non-slip surface (e.g. tartan track) ‚úî Sufficient/appropriate light to provide visibility/alertness (e.g. use of flood lights/indoor facility/away from glare of sun) OR Optimal ambient sound for focus/motivation (e.g. for instructions to be heard/music to support training) ‚úî Sufficient space to execute the whole skill (e.g.100 m for a sprint) ‚úî Social: Positive/supportive peer/teammate relationships (e.g. learn from shared experience/feedback) ‚úî Encouraging/supportive/motivating coaching style (e.g. valuing effort/providing choice/autonomy) ‚úî Positive societal/cultural perception around participation (e.g. inclusive/collaborative/value of perseverance) ‚úî Supportive family network allowing commitment/dedication to training/practice ‚úî"
        }
];

        let filteredQuestions = [];
        let currentIndex = 0;

        // Initialize
        function init() {
            filterQuestions();
            displayQuestion();
            updateNavigation();
        }

        // Filter questions by selected section
        function filterQuestions() {
            const section = document.getElementById('sectionFilter').value;
            filteredQuestions = allQuestions.filter(q => q.section === section);
            currentIndex = 0;
        }

        // Listen for section changes
        document.getElementById('sectionFilter').addEventListener('change', function() {
            filterQuestions();
            displayQuestion();
            updateNavigation();
        });

        // Display current question
        function displayQuestion() {
            if (filteredQuestions.length === 0) {
                document.getElementById('questionDisplay').innerHTML = '<p style="color: #666;">No questions available for this section yet.</p>';
                return;
            }

            const q = filteredQuestions[currentIndex];
            const sectionNames = {
                'A': 'Exercise Physiology & Nutrition',
                'B': 'Biomechanics',
                'C': 'Sports Psychology & Motor Learning'
            };

            document.getElementById('questionDisplay').innerHTML = `
                <span class="section-badge badge-${q.section}">${q.section}. ${sectionNames[q.section]}</span>
                <div class="question-header">
                    <span class="question-id">${q.topic}</span>
                    <span class="marks-badge">[${q.maxMarks} marks]</span>
                </div>
                <div class="question-text">${q.question}</div>
            `;

            document.getElementById('answerInput').value = '';
            document.getElementById('result').style.display = 'none';
        }

        // Navigate questions
        function navigateQuestion(direction) {
            currentIndex += direction;
            displayQuestion();
            updateNavigation();
        }

        // Update navigation buttons
        function updateNavigation() {
            document.getElementById('prevBtn').disabled = (currentIndex === 0);
            document.getElementById('nextBtn').disabled = (currentIndex === filteredQuestions.length - 1);
            document.getElementById('questionCounter').textContent = 
                `Question ${currentIndex + 1} of ${filteredQuestions.length}`;
        }

        // Submit answer
        async function submitAnswer() {
            const answer = document.getElementById('answerInput').value.trim();
            if (!answer) {
                alert('Please enter an answer before submitting.');
                return;
            }

            const q = filteredQuestions[currentIndex];

            document.getElementById('loading').style.display = 'block';
            document.getElementById('result').style.display = 'none';

            try {
                const response = await fetch('https://sehsexam.thatjamiebloke.workers.dev/mark', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        questionId: q.id,
                        question: q.question,
                        markScheme: q.markScheme,
                        maxMarks: q.maxMarks,
                        answer: answer
                    })
                });

                if (!response.ok) throw new Error('Marking failed');

                const data = await response.json();
                displayResult(data);
            } catch (error) {
                document.getElementById('result').innerHTML = 
                    '<div style="color: #dc3545;">Error: ' + error.message + '</div>';
                document.getElementById('result').style.display = 'block';
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        }

        // Display result
        function displayResult(data) {
            let html = `
                <div class="score-display">
                    Score: ${data.score} / ${data.maxMarks}
                </div>
            `;

            if (data.keyPoints && data.keyPoints.length > 0) {
                html += '<div class="key-points"><h3>Mark Points:</h3>';
                data.keyPoints.forEach(point => {
                    html += `
                        <div class="point ${point.hit ? 'hit' : 'miss'}">
                            <span>${point.hit ? '‚úì' : '‚óã'}</span>
                            <span>${point.text}</span>
                        </div>
                    `;
                });
                html += '</div>';
            }

            if (data.comment) {
                html += `
                    <div class="comment-section">
                        <h3>Examiner Feedback</h3>
                        <p>${data.comment}</p>
                    </div>
                `;
            }

            if (data.hint) {
                html += `
                    <div class="hint-section">
                        <h3>üí° Hint for Improvement</h3>
                        <p>${data.hint}</p>
                    </div>
                `;
            }

            document.getElementById('result').innerHTML = html;
            document.getElementById('result').style.display = 'block';
        }

        // Initialize on load
        init();
    </script>
</body>
</html>
